<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Pack-Man Extension</title>
  <style>
    :root {
      --radius: 1.625rem;
      --background: oklch(1 0 0);
      --foreground: oklch(0.145 0 0);
      --card: oklch(1 0 0);
      --card-foreground: oklch(0.145 0 0);
      --primary: oklch(0.205 0 0);
      --primary-foreground: oklch(0.985 0 0);
      --secondary: oklch(0.97 0 0);
      --secondary-foreground: oklch(0.205 0 0);
      --muted: oklch(0.97 0 0);
      --muted-foreground: oklch(0.556 0 0);
      --accent: oklch(0.97 0 0);
      --accent-foreground: oklch(0.205 0 0);
      --destructive: oklch(0.577 0.245 27.325);
      --border: oklch(0.922 0 0);
      --input: oklch(0.922 0 0);
      --ring: oklch(0.708 0 0);
      --success: oklch(0.646 0.222 142.495);
      --warning: oklch(0.828 0.189 84.429);
    }

    body {
      width: 380px;
      padding: 1.25rem;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background-color: var(--background);
      color: var(--foreground);
      margin: 0;
      line-height: 1.5;
    }

    .card {
      background-color: var(--card);
      color: var(--card-foreground);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 1.25rem;
      margin-bottom: 1rem;
      transition: box-shadow 0.2s ease-in-out;
    }

    .card:hover {
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }

    .card-header {
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: start;
      gap: 0.75rem;
    }

    .card-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin: 0;
    }

    .card-description {
      color: var(--muted-foreground);
      font-size: 0.85rem;
      margin-top: 0.150rem;
      line-height: 1.2;
      font-weight: 400;
    }

    .icon {
      width: 1.25rem;
      height: 1.25rem;
      flex-shrink: 0;
    }

    .logo-icon {
      width: 4rem;
      height: 4rem;
      flex-shrink: 0;
    }

    .icon-success {
      color: var(--success);
    }

    .icon-warning {
      color: var(--warning);
    }

    .icon-primary {
      color: var(--primary);
    }

    .card-content {
      padding-top: 1rem;
    }

    .label {
      font-size: 0.875rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      display: block;
    }

    .input {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border-radius: calc(var(--radius) - 2px);
      border: 1px solid var(--input);
      background-color: transparent;
      color: var(--foreground);
      box-sizing: border-box;
    }

    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: calc(var(--radius) - 2px);
      padding: 0.625rem 1rem;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      border: none;
      transition: all 0.2s ease-in-out;
      gap: 0.5rem;
      outline: none;
      position: relative;
    }

    .button:focus-visible {
      outline: 3px solid oklch(0.708 0 0 / 0.5);
    }

    .button-primary {
      background-color: var(--primary);
      color: var(--primary-foreground);
    }

    .button-primary:hover {
      background-color: oklch(0.3 0 0);
      transform: translateY(-1px);
    }

    .button-secondary {
      background-color: var(--secondary);
      color: var(--secondary-foreground);
      border: 1px solid var(--border);
    }

    .button-secondary:hover {
      background-color: var(--accent);
      border-color: var(--ring);
    }

    .button-destructive {
      background-color: var(--destructive);
      color: white;
    }

    .button-destructive:hover {
      background-color: oklch(0.5 0.245 27.325);
    }

    .status-text {
      font-size: 0.875rem;
      margin-top: 0.75rem;
      line-height: 1.4;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: calc(var(--radius) - 4px);
      border: 1px solid transparent;
      padding: 0.125rem 0.5rem;
      font-size: 0.75rem;
      font-weight: 500;
      white-space: nowrap;
      gap: 0.25rem;
    }

    .badge-secondary {
      background-color: var(--secondary);
      color: var(--secondary-foreground);
    }

    .badge-success {
      background-color: var(--success);
      color: white;
    }

    .badge-destructive {
      background-color: var(--destructive);
      color: white;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      padding: 0.75rem;
      border-radius: calc(var(--radius) - 2px);
      background-color: var(--muted);
      margin-top: 0.5rem;
    }

    .status-indicator.active {
      background-color: oklch(0.95 0.05 142.495);
      border: 1px solid var(--success);
    }

    .flex {
      display: flex;
    }

    .justify-between {
      justify-content: space-between;
    }

    .items-center {
      align-items: center;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    .gap-3 {
      gap: 0.75rem;
    }

    .mt-4 {
      margin-top: 1rem;
    }

    .mb-2 {
      margin-bottom: 0.5rem;
    }

    .text-sm {
      font-size: 0.875rem;
    }

    .font-medium {
      font-weight: 500;
    }

    .button-bmac {
      background-color: #FFDD00;
      color: #000000;
      border: 2px solid #000000;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      font-weight: 700;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: all 0.2s ease-in-out;
    }

    .button-bmac:hover {
      background-color: #FFED4E;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .button-bmac:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="card-header">
      <svg class="logo-icon icon-primary" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <g>
          <path
            d="M23,28L23,28c-1.1,0-2.1-0.7-2.5-1.8c0-0.1,0-0.2-0.1-0.2h-8.9c0,0.1,0,0.2-0.1,0.2C11.1,27.3,10.1,28,9,28h0c-0.6,0-1,0.4-1,1s0.4,1,1,1h14c0.6,0,1-0.4,1-1S23.6,28,23,28z" />
        </g>
        <path
          d="M27,3H5C3.3,3,2,4.3,2,6v15c0,1.7,1.3,3,3,3h6.9h8.1H27c1.7,0,3-1.3,3-3V6C30,4.3,28.7,3,27,3z M14.7,15.6c0.4,0.4,0.4,0.9,0.1,1.3c-1,1.3-2.6,2.1-4.3,2.1c-3,0-5.5-2.5-5.5-5.5S7.5,8,10.5,8c1.7,0,3.2,0.8,4.3,2.1c0.3,0.4,0.3,1-0.1,1.3l-2.1,2.1L14.7,15.6z M17.5,15c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S18.3,15,17.5,15z M21.5,15c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S22.3,15,21.5,15z M25.5,15c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S26.3,15,25.5,15z" />
      </svg>
      <div>
        <h3 class="card-title">Pack-Man Extension</h3>
        <p class="card-description">Intelligent package analysis for GitHub repositories</p>
      </div>
    </div>
    <div class="card-content">
      <div class="label mb-2">Extension Status</div>
      <div class="status-indicator active">
        <div class="flex items-center gap-2">
          <svg class="icon icon-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12l2 2 4-4" />
            <circle cx="12" cy="12" r="10" />
          </svg>
          <span class="text-sm font-medium">Active and running</span>
        </div>
        <div class="badge badge-success">Online</div>
      </div>

      <div class="label mt-4 mb-2">System Cache</div>
      <div class="flex justify-between items-center gap-3">
        <div class="flex items-center gap-2">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 7v10c0 2.21 1.79 4 4 4h8c2.21 0 4-1.79 4-4V7" />
            <path d="M4 7c0-2.21 1.79-4 4-4h8c2.21 0 4 1.79 4 4" />
            <path d="M9 11l3 3 3-3" />
          </svg>
          <span class="text-sm">Items: <span id="cache-size" class="font-medium">0</span></span>
        </div>
        <button class="button button-secondary" id="clear-btn">
          <svg class="icon" viewBox="0 0 26 26" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 6h18" />
            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
          </svg>
          Empty Cache
        </button>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <svg class="icon icon-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 12l2 2 4-4" />
        <path
          d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
      </svg>
      <div>
        <h3 class="card-title">GitHub Token</h3>
        <p class="card-description">Configure your token to increase API request limits</p>
      </div>
    </div>
    <div class="card-content">
      <div id="token-display" style="display: none;">
        <div class="label mb-2">Configured Token</div>
        <div class="status-indicator active">
          <svg class="icon icon-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12l2 2 4-4" />
            <circle cx="12" cy="12" r="10" />
          </svg>
          <span class="text-sm font-medium" id="token-masked"></span>
          <div class="badge badge-success">Active</div>
        </div>
        <button class="button button-destructive mt-4" id="remove-token-btn" style="width: 100%;">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 6h18" />
            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
          </svg>
          Remove Token
        </button>
      </div>
      <div id="token-input-section">
        <label class="label" for="token-input">Personal Access Token</label>
        <input type="password" id="token-input" class="input"
          placeholder="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
        <button class="button button-primary mt-4" id="save-token-btn" style="width: 100%;">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
            <polyline points="17,21 17,13 7,13 7,21" />
            <polyline points="7,3 7,8 15,8" />
          </svg>
          Save Token
        </button>
      </div>
      <div id="token-status" class="status-text"></div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <svg class="icon icon-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2L2 7l10 5 10-5-10-5z" />
        <path d="M2 17l10 5 10-5" />
        <path d="M2 12l10 5 10-5" />
      </svg>
      <div>
        <h3 class="card-title">API Configuration</h3>
        <p class="card-description">Set custom API endpoint for self-hosted instances</p>
      </div>
    </div>
    <div class="card-content">
      <label class="label" for="api-endpoint-input">API Endpoint URL</label>
      <input type="text" id="api-endpoint-input" class="input" placeholder="https://pack-man.tech/api/analyze-packages">
      <div class="flex justify-between items-center gap-2 mt-4">
        <button class="button button-secondary" id="reset-api-btn" style="flex: 1;">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
            <path d="M21 3v5h-5" />
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
            <path d="M3 21v-5h5" />
          </svg>
          Reset to Default
        </button>
        <button class="button button-primary" id="save-api-btn" style="flex: 1;">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
            <polyline points="17,21 17,13 7,13 7,21" />
            <polyline points="7,3 7,8 15,8" />
          </svg>
          Save & Test
        </button>
      </div>
      <div id="api-status" class="status-text"></div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <svg class="icon icon-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path
          d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
      </svg>
      <div>
        <h3 class="card-title">Support This Project</h3>
        <p class="card-description">Help keep Pack-Man free and open source</p>
      </div>
    </div>
    <div class="card-content">
      <button class="button button-bmac" id="bmac-btn" style="width: 100%;">
        <span style="font-size: 1.25rem; margin-right: 0.5rem;">üç∫</span>
        <span>Buy me a beer</span>
      </button>
      <p class="status-text" style="text-align: center; margin-top: 0.5rem; color: var(--muted-foreground);">
        Your support helps maintain and improve Pack-Man!
      </p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>

</html>